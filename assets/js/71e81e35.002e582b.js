(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{109:function(e,a,n){"use strict";n.d(a,"a",(function(){return b})),n.d(a,"b",(function(){return m}));var t=n(0),r=n.n(t);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var a=r.a.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):c(c({},a),e)),n},b=function(e){var a=p(e.components);return r.a.createElement(s.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},d=r.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,i=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=p(n),d=t,m=b["".concat(o,".").concat(d)]||b[d]||u[d]||i;return n?r.a.createElement(m,c(c({ref:a},s),{},{components:n})):r.a.createElement(m,c({ref:a},s))}));function m(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var i=n.length,o=new Array(i);o[0]=d;var c={};for(var l in a)hasOwnProperty.call(a,l)&&(c[l]=a[l]);c.originalType=e,c.mdxType="string"==typeof e?e:t,o[1]=c;for(var s=2;s<i;s++)o[s]=n[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},87:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return o})),n.d(a,"metadata",(function(){return c})),n.d(a,"toc",(function(){return l})),n.d(a,"default",(function(){return p}));var t=n(3),r=n(7),i=(n(0),n(109)),o={},c={unversionedId:"cookbooks/scala-versions",id:"cookbooks/scala-versions",isDocsHomePage:!1,title:"Picking Scala version with scala-cli",description:"Scala cli by default runs latest stable Scala version.",source:"@site/docs/cookbooks/scala-versions.md",sourceDirName:"cookbooks",slug:"/cookbooks/scala-versions",permalink:"/docs/cookbooks/scala-versions",editUrl:"https://github.com/Virtuslab/scala-cli/edit/master/website/docs/cookbooks/scala-versions.md",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Cookbook",permalink:"/docs/cookbooks/index"}},l=[],s={toc:l};function p(e){var a=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},s,n,{components:a,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Scala cli by default runs latest stable Scala version."),Object(i.b)("p",null,"Here is an unversal piece of code that detect Scala version in runtime"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-scala",metastring:"name:ScalaVersion.scala","name:ScalaVersion.scala":!0},'object ScalaVersion extends App {\n    val props = new java.util.Properties\n    props.load(getClass.getResourceAsStream("/library.properties"))\n    val line = props.getProperty("version.number")\n    val Version = """(\\d\\.\\d+\\.\\d+).*""".r\n    val Version(versionStr) = line\n    println(s"Using Scala version: $versionStr")\n}\n')),Object(i.b)("p",null,"When run without any version provided:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli ScalaVersion.scala\n")),Object(i.b)("p",null,"It will run using latest stable release of Scala (3.0.2 by the time of writting this doc.)"),Object(i.b)("p",null,"Scala version can be also provided from command line using ",Object(i.b)("inlineCode",{parentName:"p"},"--scala")," (with ",Object(i.b)("inlineCode",{parentName:"p"},"-S")," and ",Object(i.b)("inlineCode",{parentName:"p"},"--scala-version")," aliases)"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli -S 2.13.5 ScalaVersion.scala\n")),Object(i.b)("p",null,"In most cases we do not care for a precise Scala version and 'any Scala 2' or ",Object(i.b)("inlineCode",{parentName:"p"},"2.13")," is good enough for us. "),Object(i.b)("p",null,"Scala cli accepts version prefixes so:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli -S 2 ScalaVersion.scala\n")),Object(i.b)("p",null,"will result in picking up a lates stable release for Scala 2 (",Object(i.b)("inlineCode",{parentName:"p"},"2.13.6")," as of when this doc is written) and"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli -S 2.12 ScalaVersion.scala\n")),Object(i.b)("p",null,"will use latest stable release of ",Object(i.b)("inlineCode",{parentName:"p"},"2.12")," ",Object(i.b)("inlineCode",{parentName:"p"},"2.12.15"),"."),Object(i.b)("p",null,"We can also pin the version of the language withing the .scala file with ",Object(i.b)("inlineCode",{parentName:"p"},"using directives"),". You can read our more how using directives works in documentation and examples."),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"Using directives sytax is still experimental and may change in future versions of scala-cli"),Object(i.b)("p",{parentName:"div"},"So when we will have:"),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",{parentName:"pre",className:"language-scala",metastring:"name:version.scala","name:version.scala":!0},"// using scala 2.12.5\n\n//rest of the config\n")),Object(i.b)("p",{parentName:"div"},"and run"),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli ScalaVersion.scala version.scala\n")),Object(i.b)("p",{parentName:"div"},"We will reulst in using ",Object(i.b)("inlineCode",{parentName:"p"},"2.12.5"),". "),Object(i.b)("p",{parentName:"div"},"scala-cli is command-line first so any configuration pass to command line will override using directives."),Object(i.b)("p",{parentName:"div"},"So, running "),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli -S 2.13.5 ScalaVersion.scala version.scala\n")),Object(i.b)("p",{parentName:"div"},"Will result in using ",Object(i.b)("inlineCode",{parentName:"p"},"2.13.5")),Object(i.b)("h1",{parentName:"div",id:"when-should-i-provie-a-full-version-of-scala"},"When should I provie a full version of scala?"),Object(i.b)("p",{parentName:"div"},"For protyping, scrittping and other usces that does not require to run code multiple times in the future proving version is not required. "),Object(i.b)("p",{parentName:"div"},"Scala is source and bianry compatible within each major version (e.g. ",Object(i.b)("inlineCode",{parentName:"p"},"2.12.x")," or ",Object(i.b)("inlineCode",{parentName:"p"},"3.1.x"),") so providing version in ",Object(i.b)("inlineCode",{parentName:"p"},"eopch.major")," form (e.g. ",Object(i.b)("inlineCode",{parentName:"p"},"2.12"),", ",Object(i.b)("inlineCode",{parentName:"p"},"2.13")," or ",Object(i.b)("inlineCode",{parentName:"p"},"3.1"),") should be perfectly fine for most uscases. When your Scala code contains more advanced features that may be more sensitve for changes in minor version (e.g. from ",Object(i.b)("inlineCode",{parentName:"p"},"2.13.4")," to ",Object(i.b)("inlineCode",{parentName:"p"},"2.13.5"),") we recomend using complete Scala version."))))}p.isMDXComponent=!0}}]);