"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[78],{3905:function(e,a,t){t.d(a,{Zo:function(){return c},kt:function(){return m}});var n=t(7294);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var s=n.createContext({}),u=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},c=function(e){var a=u(e.components);return n.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(t),m=l,k=d["".concat(s,".").concat(m)]||d[m]||p[m]||r;return t?n.createElement(k,i(i({ref:a},c),{},{components:t})):n.createElement(k,i({ref:a},c))}));function m(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=t.length,i=new Array(r);i[0]=d;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var u=2;u<r;u++)i[u]=t[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2380:function(e,a,t){t.r(a),t.d(a,{frontMatter:function(){return i},contentTitle:function(){return o},metadata:function(){return s},toc:function(){return u},default:function(){return p}});var n=t(7462),l=t(3366),r=(t(7294),t(3905)),i={title:"Package",sidebar_position:8},o=void 0,s={unversionedId:"guides/package",id:"guides/package",isDocsHomePage:!1,title:"Package",description:"The package command packages your Scala code in various formats, such as",source:"@site/docs/guides/package.md",sourceDirName:"guides",slug:"/guides/package",permalink:"/docs/guides/package",editUrl:"https://github.com/Virtuslab/scala-cli/edit/master/website/docs/guides/package.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Package",sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Test",permalink:"/docs/guides/test"},next:{title:"REPL",permalink:"/docs/guides/repl"}},u=[{value:"Default package format",id:"default-package-format",children:[]},{value:"Library JARs",id:"library-jars",children:[]},{value:"Assemblies",id:"assemblies",children:[]},{value:"Scala.JS",id:"scalajs",children:[]},{value:"Scala Native",id:"scala-native",children:[]},{value:"OS-specific packages",id:"os-specific-packages",children:[]},{value:"Native package",id:"native-package",children:[{value:"Debian",id:"debian",children:[]},{value:"Run",id:"run",children:[]},{value:"Mandatory arguments",id:"mandatory-arguments",children:[]},{value:"Optional arguments",id:"optional-arguments",children:[]},{value:"RedHat",id:"redhat",children:[]},{value:"Run",id:"run-1",children:[]},{value:"Mandatory arguments",id:"mandatory-arguments-1",children:[]},{value:"Optional arguments",id:"optional-arguments-1",children:[]},{value:"MacOs - Pkg",id:"macos---pkg",children:[]},{value:"Run",id:"run-2",children:[]},{value:"Mandatory arguments",id:"mandatory-arguments-2",children:[]},{value:"Optional arguments",id:"optional-arguments-2",children:[]},{value:"Windows",id:"windows",children:[]},{value:"Run",id:"run-3",children:[]},{value:"Mandatory arguments",id:"mandatory-arguments-3",children:[]},{value:"Optional arguments",id:"optional-arguments-3",children:[]}]}],c={toc:u};function p(e){var a=e.components,t=(0,l.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,n.Z)({},c,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"package")," command packages your Scala code in various formats, such as"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#default-package-format"},"lightweight launcher JARs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#library-jars"},"standard library JARs")),(0,r.kt)("li",{parentName:"ul"},"so called ",(0,r.kt)("a",{parentName:"li",href:"#assemblies"},'"assemblies" or "fat JARs"')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#scalajs"},"JavaScript files")," for Scala.JS code"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#scala-native"},"native executables")," for Scala Native code"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#os-specific-packages"},"OS-specific formats"),", such as deb or rpm (Linux), pkg (macOS), or MSI (Windows)")),(0,r.kt)("h2",{id:"default-package-format"},"Default package format"),(0,r.kt)("p",null,"The default package format writes a lightweight launcher JAR, like the ones\n",(0,r.kt)("a",{parentName:"p",href:"https://get-coursier.io/docs/cli-bootstrap#bootstraps"},"generated by coursier"),". These\nJARs tend to have a small size (they mostly only contain the byte code of your own sources),\ncan be generated fast,\nand download their dependencies upon first launch, via ",(0,r.kt)("a",{parentName:"p",href:"https://get-coursier.io"},"coursier"),"."),(0,r.kt)("p",null,"These can be copied on other machines, and run fine there. Their only requirement is\nthat the ",(0,r.kt)("inlineCode",{parentName:"p"},"java")," command needs to be available in the ",(0,r.kt)("inlineCode",{parentName:"p"},"PATH"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cat Hello.scala\n# object Hello {\n#   def main(args: Array[String]): Unit =\n#     println("Hello")\n# }\nscala-cli package Hello.scala -o hello\n./hello\n# Hello\n')),(0,r.kt)("h2",{id:"library-jars"},"Library JARs"),(0,r.kt)("p",null,"Library JARs are suitable if you plan to put the resulting JAR in a class path, rather than running it as is.\nThese follow the same format as the JARs of libraries published to Maven Central for example."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cat MyLibrary.scala\n# package mylib\n# class MyLibrary {\n#   def message = "Hello"\n# }\nscala-cli package MyLibrary.scala -o my-library.jar --library\njavap -cp my-library.jar mylib.MyLibrary\n# Compiled from "MyLibrary.scala"\n# public class mylib.MyLibrary {\n#   public java.lang.String message();\n#   public mylib.MyLibrary();\n# }\n')),(0,r.kt)("h2",{id:"assemblies"},"Assemblies"),(0,r.kt)("p",null,"Assemblies blend your dependencies and your sources' byte code together in a single JAR. As a result,\nassemblies can be run as is, just like ",(0,r.kt)("a",{parentName:"p",href:"#default-package-format"},"bootstraps"),", but don't need to download\nanything upon first launch. Because of that, assemblies also tend to be bigger, and somewhat slower to generate."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cat Hello.scala\n# object Hello {\n#   def main(args: Array[String]): Unit =\n#     println("Hello")\n# }\nscala-cli package Hello.scala -o hello --assembly\n./hello\n# Hello\n')),(0,r.kt)("h2",{id:"scalajs"},"Scala.JS"),(0,r.kt)("p",null,"Packaging Scala.JS applications results in a ",(0,r.kt)("inlineCode",{parentName:"p"},".js")," file, that can be run with ",(0,r.kt)("inlineCode",{parentName:"p"},"node")," for example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cat Hello.scala\n# object Hello {\n#   def main(args: Array[String]): Unit =\n#     println("Hello")\n# }\nscala-cli package --js Hello.scala -o hello.js\nnode hello.js\n# Hello\n')),(0,r.kt)("p",null,"Note that the Scala CLI doesn't offer to link the resulting JavaScript with linkers, such as Webpack, yet."),(0,r.kt)("h2",{id:"scala-native"},"Scala Native"),(0,r.kt)("p",null,"Package Scala Native applications results in a native executable:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cat Hello.scala\n# object Hello {\n#   def main(args: Array[String]): Unit =\n#     println("Hello")\n# }\nscala-cli package --native Hello.scala -o hello\nfile hello\n# hello: Mach-O 64-bit executable x86_64\n./hello\n# Hello\n')),(0,r.kt)("h2",{id:"os-specific-packages"},"OS-specific packages"),(0,r.kt)("p",null,"Scala CLI also offers to package Scala code as OS-specific packages. This feature is somewhat experimental,\nand supports the following formats, provided they're compatible with the operating system you're running ",(0,r.kt)("inlineCode",{parentName:"p"},"scala-cli")," on:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"DEB (Linux)"),(0,r.kt)("li",{parentName:"ul"},"RPM (Linux)"),(0,r.kt)("li",{parentName:"ul"},"PKG (macOS)"),(0,r.kt)("li",{parentName:"ul"},"MSI (Windows)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'cat Hello.scala\n# object Hello {\n#   def main(args: Array[String]): Unit =\n#     println("Hello")\n# }\nscala-cli package --deb Hello.scala -o hello.deb\nfile hello\n# hello: Mach-O 64-bit executable x86_64\n./hello\n# Hello\n')),(0,r.kt)("h2",{id:"native-package"},"Native package"),(0,r.kt)("h3",{id:"debian"},"Debian"),(0,r.kt)("p",null,"The package format for the Debian Linux distribution."),(0,r.kt)("h4",{id:"to-build-a-debian-package-you-will-need-to-have-these-applications-installed"},"To build a Debian package, you will need to have these applications installed"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"dpkg-deb")),(0,r.kt)("h3",{id:"run"},"Run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"scala-cli package ..arguments... --deb --output 'path.deb`\n")),(0,r.kt)("h3",{id:"mandatory-arguments"},"Mandatory arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"version"),(0,r.kt)("li",{parentName:"ul"},"maintainer"),(0,r.kt)("li",{parentName:"ul"},"description"),(0,r.kt)("li",{parentName:"ul"},"output-path")),(0,r.kt)("h3",{id:"optional-arguments"},"Optional arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"force"),(0,r.kt)("li",{parentName:"ul"},"launcher-app"),(0,r.kt)("li",{parentName:"ul"},"debian-conflicts"),(0,r.kt)("li",{parentName:"ul"},"debian-dependencies"),(0,r.kt)("li",{parentName:"ul"},"architecture")),(0,r.kt)("h3",{id:"redhat"},"RedHat"),(0,r.kt)("p",null,"The software package format for RedHat distributions."),(0,r.kt)("h4",{id:"to-build-a-redhat-package-you-will-need-to-have-these-applications-installed"},"To build a RedHat Package, you will need to have these applications installed"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"rpmbuild")),(0,r.kt)("h3",{id:"run-1"},"Run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"scala-cli package ..arguments... --rpm --output 'path.rpm`\n")),(0,r.kt)("h3",{id:"mandatory-arguments-1"},"Mandatory arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"version"),(0,r.kt)("li",{parentName:"ul"},"description"),(0,r.kt)("li",{parentName:"ul"},"license"),(0,r.kt)("li",{parentName:"ul"},"output-path")),(0,r.kt)("h3",{id:"optional-arguments-1"},"Optional arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"force"),(0,r.kt)("li",{parentName:"ul"},"launcher-app"),(0,r.kt)("li",{parentName:"ul"},"release"),(0,r.kt)("li",{parentName:"ul"},"rpm-architecture")),(0,r.kt)("h3",{id:"macos---pkg"},"MacOs - Pkg"),(0,r.kt)("p",null,"The software package format for macOs."),(0,r.kt)("h4",{id:"to-build-a-pkg-you-will-need-to-have-these-applications-installed"},"To build a Pkg, you will need to have these applications installed"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"pkgbuild")),(0,r.kt)("h3",{id:"run-2"},"Run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"`scala-cli package ..arguments... --pkg --output 'path.pkg`\n")),(0,r.kt)("h3",{id:"mandatory-arguments-2"},"Mandatory arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"version"),(0,r.kt)("li",{parentName:"ul"},"identifier"),(0,r.kt)("li",{parentName:"ul"},"output-path")),(0,r.kt)("h3",{id:"optional-arguments-2"},"Optional arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"force"),(0,r.kt)("li",{parentName:"ul"},"launcher-app")),(0,r.kt)("h3",{id:"windows"},"Windows"),(0,r.kt)("p",null,"The software package format for Windows distributions."),(0,r.kt)("h4",{id:"to-build-a-windows-installer-you-will-need-to-have-these-applications-installed"},"To build a Windows installer, you will need to have these applications installed"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"WIX Toolset")),(0,r.kt)("h3",{id:"run-3"},"Run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"scala-cli package ..arguments... --msi --output 'path.msi`\n")),(0,r.kt)("h3",{id:"mandatory-arguments-3"},"Mandatory arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"version"),(0,r.kt)("li",{parentName:"ul"},"maintainer"),(0,r.kt)("li",{parentName:"ul"},"licence-path"),(0,r.kt)("li",{parentName:"ul"},"product-name"),(0,r.kt)("li",{parentName:"ul"},"output-path")),(0,r.kt)("h3",{id:"optional-arguments-3"},"Optional arguments"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"force"),(0,r.kt)("li",{parentName:"ul"},"launcher-app"),(0,r.kt)("li",{parentName:"ul"},"exit-dialog"),(0,r.kt)("li",{parentName:"ul"},"logo-path")))}p.isMDXComponent=!0}}]);