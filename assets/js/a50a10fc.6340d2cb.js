(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{109:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return d}));var n=t(0),l=t.n(n);function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){c(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var o=l.a.createContext({}),b=function(e){var a=l.a.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):r(r({},a),e)),t},p=function(e){var a=b(e.components);return l.a.createElement(o.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return l.a.createElement(l.a.Fragment,{},a)}},m=l.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,c=e.originalType,i=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),p=b(t),m=n,d=p["".concat(i,".").concat(m)]||p[m]||u[m]||c;return t?l.a.createElement(d,r(r({ref:a},o),{},{components:t})):l.a.createElement(d,r({ref:a},o))}));function d(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var c=t.length,i=new Array(c);i[0]=m;var r={};for(var s in a)hasOwnProperty.call(a,s)&&(r[s]=a[s]);r.originalType=e,r.mdxType="string"==typeof e?e:n,i[1]=r;for(var o=2;o<c;o++)i[o]=t[o];return l.a.createElement.apply(null,i)}return l.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},97:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return r})),t.d(a,"toc",(function(){return s})),t.d(a,"default",(function(){return b}));var n=t(3),l=t(7),c=(t(0),t(109)),i={title:"Input format",sidebar_position:3},r={unversionedId:"input",id:"input",isDocsHomePage:!1,title:"Input format",description:"The scala-cli CLI commands accept input in a number of ways, most notably:",source:"@site/docs/input.md",sourceDirName:".",slug:"/input",permalink:"/docs/input",editUrl:"https://github.com/Virtuslab/scala-cli/edit/master/website/docs/input.md",version:"current",sidebarPosition:3,frontMatter:{title:"Input format",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/installation"},next:{title:"Configuration",permalink:"/docs/configuration"}},s=[{value:"Scala files",id:"scala-files",children:[]},{value:"Directories",id:"directories",children:[]},{value:"URLs",id:"urls",children:[]},{value:"GitHub Gist",id:"github-gist",children:[]},{value:"Process substitution",id:"process-substitution",children:[]},{value:"Scripts",id:"scripts",children:[{value:"Self executable Scala Script",id:"self-executable-scala-script",children:[]},{value:"Difference with Ammonite scripts",id:"difference-with-ammonite-scripts",children:[]}]}],o={toc:s};function b(e){var a=e.components,t=Object(l.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},o,t,{components:a,mdxType:"MDXLayout"}),Object(c.b)("p",null,"The ",Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," CLI commands accept input in a number of ways, most notably:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"as ",Object(c.b)("inlineCode",{parentName:"li"},".scala")," files"),Object(c.b)("li",{parentName:"ul"},"as one or several directories, containing Scala sources"),Object(c.b)("li",{parentName:"ul"},"as URLs, pointing to Scala sources"),Object(c.b)("li",{parentName:"ul"},"by piping or process substitution")),Object(c.b)("p",null,"Note that it accepts two kinds of Scala sources:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"standard ",Object(c.b)("inlineCode",{parentName:"li"},".scala")," files"),Object(c.b)("li",{parentName:"ul"},"scripts, ending in ",Object(c.b)("inlineCode",{parentName:"li"},".sc"),", accepting any kind of top-level statement")),Object(c.b)("p",null,"Java sources are also accepted."),Object(c.b)("p",null,"Lastly, note that all these input formats can used alongside each other."),Object(c.b)("h2",{id:"scala-files"},"Scala files"),Object(c.b)("p",null,"This is the simplest input format. Just write a ",Object(c.b)("inlineCode",{parentName:"p"},".scala")," file, and pass it to\n",Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," to run it:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Hello.scala"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello from Scala")\n}\n')),Object(c.b)("p",null,"Run it with"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli Hello.scala\n# Hello from Scala\n")),Object(c.b)("p",null,"You can also split your code in multiple files, and pass all of them to ",Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," :"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Messages.scala"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'object Messages {\n  def hello = "Hello from Scala"\n}\n')),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Hello.scala"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},"object Hello {\n  def main(args: Array[String]): Unit =\n    println(Messages.hello)\n}\n")),Object(c.b)("p",null,"Run them with"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli Hello.scala Messages.scala\n# Hello from Scala\n")),Object(c.b)("p",null,"Passing many files this way can be cumbersome. Directories can help."),Object(c.b)("h2",{id:"directories"},"Directories"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," accepts whole directories as input. This is convenient when you have many\n",Object(c.b)("inlineCode",{parentName:"p"},".scala")," files, and passing them all one-by-one on the command line isn't practical:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"my-app/Messages.scala"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'object Messages {\n  def hello = "Hello from Scala"\n}\n')),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"my-app/Hello.scala"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},"object Hello {\n  def main(args: Array[String]): Unit =\n    println(Messages.hello)\n}\n")),Object(c.b)("p",null,"Run them with"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli my-app\n# Hello from Scala\n")),Object(c.b)("h2",{id:"urls"},"URLs"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," accepts input via URLs pointing at ",Object(c.b)("inlineCode",{parentName:"p"},".scala")," files.\nIt'll download and cache their content, and run them."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli https://gist.github.com/alexarchambault/f972d941bc4a502d70267cfbbc4d6343/raw/2691c01984c9249936a625a42e29a822a357b0f6/Test.scala\n# Hello from Scala GitHub Gist\n")),Object(c.b)("h2",{id:"github-gist"},"GitHub Gist"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," accepts input via Github Gists url.\nIt'll download gists zip archive, cache their content, and run them."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli https://gist.github.com/alexarchambault/7b4ec20c4033690dd750ffd601e540ec\n# Hello\n\n## Piping\n\nYou can just pipe Scala code to `scala-cli` for execution:\n```bash\necho 'println(\"Hello\")' | scala-cli -\n# Hello\n")),Object(c.b)("h2",{id:"process-substitution"},"Process substitution"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," accepts input via shell process substitution:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli <(echo 'println(\"Hello\")')\n# Hello\n")),Object(c.b)("h2",{id:"scripts"},"Scripts"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," accept Scala scripts, ending in ",Object(c.b)("inlineCode",{parentName:"p"},".sc"),". Unlike ",Object(c.b)("inlineCode",{parentName:"p"},".scala")," files,\nany kind of statement is accepted at the top-level:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"hello.sc"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'val message = "Hello from Scala script"\nprintln(message)\n')),Object(c.b)("p",null,"Run it with"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli hello.sc\n# Hello from Scala script\n")),Object(c.b)("p",null,"In more detail, such a script is wrapped in an ",Object(c.b)("inlineCode",{parentName:"p"},"object")," before being passed to\nthe Scala compiler, and a ",Object(c.b)("inlineCode",{parentName:"p"},"main")," class is added to it. ",Object(c.b)("inlineCode",{parentName:"p"},"hello.sc")," is passed as"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'object hello {\n  val message = "Hello from Scala script"\n  println(message)\n\n  def main(args: Array[String]): Unit = ()\n}\n')),Object(c.b)("p",null,"(reformated for clarity)\nThe name ",Object(c.b)("inlineCode",{parentName:"p"},"hello")," comes straight from the file name ",Object(c.b)("inlineCode",{parentName:"p"},"hello.sc"),"."),Object(c.b)("p",null,"When a script is in a sub-directory of a directory passed to ",Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," , a package is inferred too:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"my-app/constants/messages.sc"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-scala"},'def hello = "Hello from Scala scripts"\n')),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"my-app/main.sc"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"import constants.messages\nprintln(messages.hello)\n")),Object(c.b)("p",null,"Run them with"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"scala-cli my-app --main-class main\n# Hello from Scala scripts\n")),Object(c.b)("p",null,"Note that we pass an explicit main class. Both scripts automatically get a main class, so this\nis required to disambiguate them."),Object(c.b)("h3",{id:"self-executable-scala-script"},"Self executable Scala Script"),Object(c.b)("p",null,"You can define file with shebang header to self executable. It could be also run as a normal script."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},'cat HelloScript.sc\n# #!/usr/bin/env scala-cli\n# println("Hello world")\n\nscala-cli run HelloScript.sc\n# Hello world\nchmod +x HelloScript.sc\n./HelloScript.sc\n# Hello world\n')),Object(c.b)("h3",{id:"difference-with-ammonite-scripts"},"Difference with Ammonite scripts"),Object(c.b)("p",null,Object(c.b)("a",{parentName:"p",href:"http://ammonite.io"},"Ammonite")," is a popular REPL for Scala, that is also able to compile and run\n",Object(c.b)("inlineCode",{parentName:"p"},".sc")," files."),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"scala-cli")," and Ammonite differ significantly when your code is split in multiple scripts:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"in Ammonite, a script needs to use ",Object(c.b)("inlineCode",{parentName:"li"},"import $file")," directives to use values defined in another script"),Object(c.b)("li",{parentName:"ul"},"with ",Object(c.b)("inlineCode",{parentName:"li"},"scala-cli")," , all scripts passed can reference each other, without such directives")),Object(c.b)("p",null,"On the other hand,"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},'you can pass a single "entry point" script as input to Ammonite, and Ammonite finds the scripts\nit depends on via the ',Object(c.b)("inlineCode",{parentName:"li"},"import $file")," directives"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"scala-cli")," requires all scripts to be passed beforehand, either one-by-one, or by putting them in a\ndirectory, and passing the directory to ",Object(c.b)("inlineCode",{parentName:"li"},"scala-cli"))))}b.isMDXComponent=!0}}]);