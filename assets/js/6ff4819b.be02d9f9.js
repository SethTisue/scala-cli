"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[989],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=s(n),d=r,f=m["".concat(c,".").concat(d)]||m[d]||p[d]||i;return n?a.createElement(f,o(o({ref:t},u),{},{components:n})):a.createElement(f,o({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4743:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return s},default:function(){return p}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o={title:"Test your code with different Java versions",sidebar_position:4},l="Test your code with different Java versions",c={unversionedId:"cookbooks/scala-jvm",id:"cookbooks/scala-jvm",isDocsHomePage:!1,title:"Test your code with different Java versions",description:"You can use Scala CLI to test your code compatibility with various versions of java (no manual installation of jdk or sdk is required). It automatically downloads the specified version of java.",source:"@site/docs/cookbooks/scala-jvm.md",sourceDirName:"cookbooks",slug:"/cookbooks/scala-jvm",permalink:"/docs/cookbooks/scala-jvm",editUrl:"https://github.com/Virtuslab/scala-cli/edit/master/website/docs/cookbooks/scala-jvm.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Test your code with different Java versions",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Use scala-cli to run Scala Scripts",permalink:"/docs/cookbooks/scala-scripts"},next:{title:"Running benchmarks",permalink:"/docs/misc/benchmarking"}},s=[],u={toc:s};function p(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"test-your-code-with-different-java-versions"},"Test your code with different Java versions"),(0,i.kt)("p",null,"You can use Scala CLI to test your code compatibility with various versions of ",(0,i.kt)("inlineCode",{parentName:"p"},"java")," (no manual installation of jdk or sdk is required). It automatically downloads the specified version of java."),(0,i.kt)("p",null,"The following snippet uses the new method ",(0,i.kt)("inlineCode",{parentName:"p"},"Files.writeString")," from Java 11. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala",metastring:"name:Main.scala","name:Main.scala":!0},'import java.nio.file.Files\nimport java.nio.file.Paths\n\nobject Main extends App {\n  val dest = Files.createTempDirectory("scala-cli-demo").resolve("hello.txt")\n  val filePath = Files.writeString(dest, "Hello from ScalaCli")\n  val fileContent: String = Files.readString(filePath)\n  println(fileContent)\n}\n')),(0,i.kt)("p",null,"Pass ",(0,i.kt)("inlineCode",{parentName:"p"},"--jvm")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"scala-cli")," command to run your application with the specified java version."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala-cli"},"scala-cli Main.scala --jvm 11\n")),(0,i.kt)("p",null,"To test your application with Java 8, change the value of ",(0,i.kt)("inlineCode",{parentName:"p"},"--jvm")," parameter."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala-cli",metastring:"fail",fail:!0},"scala-cli Main.scala  --jvm 8\n# In this case, it raises an error because the `Files.createTempFile` method is not available in java 8\n#\n# Exception in thread main: java.lang.Exception: java.lang.NoSuchMethodError: java.nio.file.Files.writeString(Ljava/nio/file/Path;Ljava/lang/CharSequence;[Ljava/nio/file/OpenOption;)Ljava/nio/file/Path;\n#     at method print in modules/runner/src/main/scala-3-stable/scala/cli/runner/Stacktrace.scala:12 inside runner_3.jar \n#     at method printException in modules/runner/src/main/scala/scala/cli/runner/StackTracePrinter.scala:91 inside runner_3.jar \n#     at method main in modules/runner/src/main/scala/scala/cli/runner/Runner.scala:22 inside runner_3.jar\n")))}p.isMDXComponent=!0}}]);