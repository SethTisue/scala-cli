<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">IDE support | Scala CLI</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://scala-cli.virtuslab.org//docs/guides/ide"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="IDE support | Scala CLI"><meta data-react-helmet="true" name="description" content="IDE support is under devlopment mainly because changes needs to be done in both Metals and IntelliJ."><meta data-react-helmet="true" property="og:description" content="IDE support is under devlopment mainly because changes needs to be done in both Metals and IntelliJ."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scala-cli.virtuslab.org//docs/guides/ide"><link data-react-helmet="true" rel="alternate" href="https://scala-cli.virtuslab.org//docs/guides/ide" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://scala-cli.virtuslab.org//docs/guides/ide" hreflang="x-default"><script data-react-helmet="true">!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5TZTCGF",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.cde3d7f1.css">
<link rel="preload" href="/assets/js/runtime~main.7de4b1a6.js" as="script">
<link rel="preload" href="/assets/js/main.24be9878.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Scala Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Scala Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Scala CLI</b></a><a class="navbar__item navbar__link" href="/install">Installation</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/#use_cases">Use cases</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/education">Education</a></li><li><a class="dropdown__link" href="/scripting">Scripting</a></li><li><a class="dropdown__link" href="/prototyping">prototyping, experimenting, reproducing</a></li><li><a class="dropdown__link" href="/projects">Single-module projects</a></li></ul></div><a class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/docs/commands/basics">Commands</a><a class="navbar__item navbar__link" href="/docs/guides/intro">Guides</a><a class="navbar__item navbar__link" href="/docs/cookbooks/intro">Cookbook</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Virtuslab/scala-cli" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Commands</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/dependencies">Managing dependencies</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/ide">IDE support</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/using-directives">Using directives</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/sbt-mill">SBT and Mill</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/scripts">Scripts</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/scala-js">Scala.JS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/scala-native">Scala Native</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/internals">Internals</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cookbook</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/scala-ecosystem">Scala CLI within Scala ecosystem</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/under-the-hood">Under the hood</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>IDE support</h1></header><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>IDE support is under devlopment mainly because changes needs to be done in both Metals and IntelliJ.</p></div></div><p>Scala CLI currently integrates with build server using <a href="https://build-server-protocol.github.io/" target="_blank" rel="noopener noreferrer">BSP protocol</a>. At this moment Scala CLI is not automatically detected so we need to use <a href="https://build-server-protocol.github.io/docs/server-discovery.html" target="_blank" rel="noopener noreferrer">Build Server Discovery</a> from BSP protocol, namely generate connection details file (<code>.bsp/scala-cli.json</code>).</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>None of the following commands was run: <code>compile</code>, <code>run</code>, <code>test</code>, <code>setup-ide</code> or previously generated connection detail file was deleted, IDE will not use Scala CLI to configure workspace.</p><p>In such case, just run one of the commands above commands to recreate connection details file</p></div></div><p>Since Scala CLI has a command-line-first approach and it is reflected in IDE integration. By default, Scala CLI stores options passed to last <code>compile</code>, <code>run</code> or <code>test</code> and use those options to configure IDE. </p><p>For more control we also expose <a href="/docs/commands/setup-ide"><code>setup-ide</code> command</a> that allows to fine tune options passed to IDE. </p><p>Once <code>setup-ide</code> is used, Scala CLI does not update configuration based on latest command. </p><p>To enable automatic updates again, remove <code>.bsp</code> directory and run <code>compile</code>, <code>run</code> or <code>test</code> to recreate connection details file.</p><p>For now non-local sources are supported. What are non-local sources? Gists, URLs or piped sources.</p><p>Scala CLI was tested with two main IDEs for Scala:</p><ul><li><a href="https://scalameta.org/metals/" target="_blank" rel="noopener noreferrer">Metals</a>: LSP server for Scala used with <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">Visual Studio Code</a>, <a href="https://www.vim.org/" target="_blank" rel="noopener noreferrer">Vim</a> and many other editors</li><li><a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener noreferrer">Intelij Idea</a> with <a href="https://confluence.jetbrains.com/display/SCA/Scala+Plugin+for+IntelliJ+IDEA?_ga=2.54176744.1963952405.1634470110-410935139.1631638301" target="_blank" rel="noopener noreferrer">Scala Plugin</a> installed</li></ul><p>In ideal world, we would replace the rest of this Guide with something along the lines of: <code>Scala CLI works within IDEs above as you would expect</code> however mainly due to how fresh Scala CLI is and also due to our radical approach to the project structure using Scala CLI -powered project to your favourite IDE may not be as amazing as we would like.</p><p>Proper IDE integration is our top priority at this moment.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="metals"></a>Metals<a class="hash-link" href="#metals" title="Direct link to heading">#</a></h2><p>Once Metals pick up proper project structure then basic features like navigation, diagnostics or code completion should work.</p><p>Currently release Metals (0.10.7) are not able to pick changes in build structure automatically and this even includes adding new source file. In order for Metals to pick up new files or changes in build structure &#x27;Restart build server&#x27; action is needed.</p><p>Main classes and tests are at this moment to recognized in Metals.</p><p>Generally, mainly due to problems with keeping project structure up to date Metals can assists with writing code using Scala CLI, however it cannot be the source of true and we recommend falling back to command line in such cases.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="intellij"></a>Intellij<a class="hash-link" href="#intellij" title="Direct link to heading">#</a></h2><p>In terms of Intellij, the most significant problem is that Intellij requires sources to be placed within a directory. This means that top level sources are not recognized as proper sources.</p><p>With Intellij, we strongly suggested to placed your sources within a directory (like <code>src</code>).</p><p>Intellij currently does not pick up automatically changes in project structure so any change in dependencies, compiler options etc. needs manual reload.</p><p>Similarly to Metals, currently we do not advise using Intellij as a source of true and we recommend falling back to command line in such cases.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Virtuslab/scala-cli/edit/master/website/docs/guides/ide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guides/dependencies"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Managing dependencies</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/guides/using-directives"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using directives Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#metals" class="table-of-contents__link">Metals</a></li><li><a href="#intellij" class="table-of-contents__link">Intellij</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://gitter.im/Virtuslab/scala-cli" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Virtuslab/scala-cli" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 VirtusLab Sp. z. o. o.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7de4b1a6.js"></script>
<script src="/assets/js/main.24be9878.js"></script>
</body>
</html>